(this.webpackJsonpview=this.webpackJsonpview||[]).push([[0],{103:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),r=n.n(c),o=n(10),s=n.n(o),i=(n(94),n(60)),l=n(12),j=n(26),u=n.n(j),b=n(37),d=n(14),h=n(148),p=n(167),O=n(159),g=n(158),x=n(153),m=n(157),f=n(156),v=n(152),k=n(154),w=n(155),S=n(160),y=n(105),C=n(72),N=n.n(C),I=n(71),B=n.n(I),E=n(150),R=n(73),T=n.n(R),z=n(74),A=n.n(z),L=(n(96),Object(h.a)({root:{"& > *":{borderBottom:"unset"}}}));function P(e){var t=e.id,n=e.nodes,c=e.history,o=r.a.useState(!1),s=Object(d.a)(o,2),i=s[0],l=s[1],j=L(),u=t.split("|"),b=u[0],h=u[1];return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsxs)(w.a,{className:j.root,children:[Object(a.jsx)(f.a,{children:Object(a.jsx)(g.a,{"aria-label":"expand row",size:"small",onClick:function(){return l(!i)},children:i?Object(a.jsx)(B.a,{}):Object(a.jsx)(N.a,{})})}),Object(a.jsx)(f.a,{component:"th",scope:"row",children:b}),Object(a.jsx)(f.a,{children:h}),Object(a.jsx)(f.a,{align:"right",children:n.length})]}),Object(a.jsx)(w.a,{children:Object(a.jsx)(f.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(a.jsx)(O.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(a.jsxs)(p.a,{margin:1,children:[Object(a.jsx)(S.a,{variant:"h6",gutterBottom:!0,component:"div",children:"Nodes"}),Object(a.jsxs)(x.a,{size:"small","aria-label":"purchases",children:[Object(a.jsx)(k.a,{children:Object(a.jsxs)(w.a,{children:[Object(a.jsx)(f.a,{children:"Protocol"}),Object(a.jsx)(f.a,{children:"Address"}),Object(a.jsx)(f.a,{align:"right",children:"Port"}),Object(a.jsx)(f.a,{align:"right",children:"Status Check"}),Object(a.jsx)(f.a,{align:"right",children:"Server Info"})]})}),Object(a.jsx)(m.a,{children:n.map((function(e,n){return Object(a.jsxs)(w.a,{children:[Object(a.jsx)(f.a,{component:"th",scope:"row",children:e.protocol}),Object(a.jsx)(f.a,{children:e.address}),Object(a.jsx)(f.a,{align:"right",children:e.port}),Object(a.jsx)(f.a,{align:"right",children:Object(a.jsx)(T.a,{onClick:function(){return function(e){var n=t+":"+e.protocol+":"+e.address+":"+e.port;console.log(e,n),c.push({pathname:"/check",state:{data:{id:n}}})}(e)}})}),Object(a.jsx)(f.a,{align:"right",children:Object(a.jsx)(A.a,{onClick:function(){return function(e){var t=e.address+":"+e.port;console.log(e,t),c.push({pathname:"/info",state:{data:{node:t}}})}(e)}})})]},n)}))})]})]})})})})]})}var F=function(e){console.log(e);var t,n=e.history,r=Object(c.useState)(),o=Object(d.a)(r,2),s=o[0],i=o[1],l=Object(c.useState)(),j=Object(d.a)(l,2),h=j[0],p=j[1],O=Object(c.useState)(!0),g=Object(d.a)(O,2),S=g[0],C=g[1],N={Authorization:"Basic "+localStorage.getItem("user")};return Object(c.useEffect)((function(){var t=new AbortController;return function(){var a=Object(b.a)(u.a.mark((function a(){var c,r,o;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return C(!0),a.prev=1,a.next=4,fetch("/services",{headers:N,signal:t.signal});case 4:if((c=a.sent).ok){a.next=14;break}return a.next=8,c.json();case 8:r=a.sent,console.log(r),C(!1),"ERR10002"===r.code||"ERR10046"===r.code||"ERR10047"===r.code?n.push({pathname:"/login",state:{from:e.location}}):p(r),a.next=20;break;case 14:return a.next=16,c.json();case 16:o=a.sent,console.log(o),i(o),C(!1);case 20:a.next=25;break;case 22:a.prev=22,a.t0=a.catch(1),t.signal.aborted||(console.log(a.t0),C(!1));case 25:case"end":return a.stop()}}),a,null,[[1,22]])})));return function(){return a.apply(this,arguments)}}()(),function(){t.abort()}}),[]),console.log(S,h,s),S?(console.log("display circular progress"),t=Object(a.jsx)("div",{children:Object(a.jsx)(E.a,{})})):h?(console.log("display error"),t=Object(a.jsx)("div",{children:Object(a.jsx)("pre",{children:JSON.stringify(h,null,2)})})):s&&(console.log("display services = ",s),t=Object(a.jsx)(v.a,{component:y.a,children:Object(a.jsxs)(x.a,{"aria-label":"collapsible table",children:[Object(a.jsx)(k.a,{children:Object(a.jsxs)(w.a,{children:[Object(a.jsx)(f.a,{}),Object(a.jsx)(f.a,{children:"Service Id"}),Object(a.jsx)(f.a,{children:"Environment Tag"}),Object(a.jsx)(f.a,{align:"right",children:"Number of Nodes"})]})}),Object(a.jsx)(m.a,{children:Object.keys(s).map((function(t,n){return Object(a.jsx)(P,{history:e.history,id:t,nodes:s[t]},n)}))})]})})),Object(a.jsx)("div",{className:"App",children:t})};function J(e){console.log(e.location.state.data);var t,n=e.location.state.data.id,r=Object(c.useState)(),o=Object(d.a)(r,2),s=o[0],i=o[1],l=Object(c.useState)(),j=Object(d.a)(l,2),h=j[0],p=j[1],O=Object(c.useState)(!0),g=Object(d.a)(O,2),x=g[0],m=g[1],f="/services/check/"+n,v={Authorization:"Basic "+localStorage.getItem("user")};return Object(c.useEffect)((function(){var e=new AbortController;return function(){var t=Object(b.a)(u.a.mark((function t(){var n,a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.prev=1,t.next=4,fetch(f,{headers:v,signal:e.signal});case 4:if((n=t.sent).ok){t.next=14;break}return t.next=8,n.json();case 8:a=t.sent,console.log(a),p(a),m(!1),t.next=20;break;case 14:return t.next=16,n.json();case 16:c=t.sent,console.log(c),i(c),m(!1);case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(1),e.signal.aborted||(console.log(t.t0),m(!1));case 25:case"end":return t.stop()}}),t,null,[[1,22]])})));return function(){return t.apply(this,arguments)}}()(),function(){e.abort()}}),[]),console.log(x,s,h),t=x?Object(a.jsx)("div",{children:Object(a.jsx)(E.a,{})}):Object(a.jsx)("pre",{children:s?JSON.stringify(s,null,2):h}),Object(a.jsx)("div",{children:t})}function M(e){console.log(e);var t,n=e.location.state.data.node,r=Object(c.useState)(),o=Object(d.a)(r,2),s=o[0],i=o[1],l=Object(c.useState)(),j=Object(d.a)(l,2),h=j[0],p=j[1],O=Object(c.useState)(!0),g=Object(d.a)(O,2),x=g[0],m=g[1],f="/services/info/"+n,v={Authorization:"Basic "+localStorage.getItem("user")};return Object(c.useEffect)((function(){var e=new AbortController;return function(){var t=Object(b.a)(u.a.mark((function t(){var n,a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.prev=1,t.next=4,fetch(f,{headers:v,signal:e.signal});case 4:if((n=t.sent).ok){t.next=14;break}return t.next=8,n.json();case 8:a=t.sent,console.log(a),p(a),m(!1),t.next=20;break;case 14:return t.next=16,n.json();case 16:c=t.sent,console.log(c),i(c),m(!1);case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(1),e.signal.aborted||(console.log(t.t0),m(!1));case 25:case"end":return t.stop()}}),t,null,[[1,22]])})));return function(){return t.apply(this,arguments)}}()(),function(){e.abort()}}),[]),console.log(x,s,h),t=x?Object(a.jsx)("div",{children:Object(a.jsx)(E.a,{})}):Object(a.jsx)("pre",{children:s?JSON.stringify(s,null,2):h}),Object(a.jsx)("div",{children:t})}var D=n(168),W=n(163),q=n(162),U=n(166),_=n(75),G=n.n(_),H=n(161),V=Object(h.a)((function(e){return{error:{color:"#ff0000"}}}));var K=function(e){var t,n=V();return Object(a.jsx)("div",{className:n.error,dangerouslySetInnerHTML:(t=e.error,{__html:t})})},Q={login:function(e,t){var n=window.btoa(e+":"+t);localStorage.setItem("user",JSON.stringify(n))},logout:function(){localStorage.removeItem("user")}};var X=Object(h.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},loginButtons:{width:"100%",marginTop:e.spacing(1)}}}));function Y(e){var t=X();console.log(e);var n=Object(c.useState)(),r=Object(d.a)(n,2),o=r[0],s=r[1],i=Object(c.useState)(),l=Object(d.a)(i,2),j=l[0],u=l[1],b=Object(c.useState)(""),h=Object(d.a)(b,2),p=h[0];h[1];return Object(a.jsxs)(H.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(q.a,{}),Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(D.a,{className:t.avatar,children:Object(a.jsx)(G.a,{})}),Object(a.jsx)(S.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(a.jsx)(K,{error:p}),Object(a.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:function(t){console.log("username = "+o+" password = "+j),t.preventDefault(),Q.login(o,j);var n=(e.location.state||{from:{pathname:"/"}}).from;e.history.push(n)},children:[Object(a.jsx)(U.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",value:o,autoComplete:"username",autoFocus:!0,onChange:function(e){s(e.target.value)}}),Object(a.jsx)(U.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",value:j,label:"Password",type:"password",id:"password",autoComplete:"password",onChange:function(e){u(e.target.value)}}),Object(a.jsx)(W.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"})]})]})]})}var Z=n(43),$=n(11),ee=n(164),te=n(165),ne=n(169),ae=n(170),ce=n(79),re=n(76),oe=n.n(re),se=n(77),ie=n.n(se),le=n(63),je=n.n(le),ue=n(78),be=n.n(ue),de=Object(h.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(Z.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(Z.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object($.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object($.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(Z.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(Z.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(Z.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function he(e){console.log(e);var t=Object(l.f)(),n=de(),c=r.a.useState(null),o=Object(d.a)(c,2),s=o[0],i=o[1],j=r.a.useState(null),u=Object(d.a)(j,2),b=u[0],h=u[1],p=Boolean(s),O=Boolean(b),x=function(e){i(e.currentTarget)},m=function(){h(null)},f=function(){i(null),m()},v="primary-search-account-menu",k=Object(a.jsxs)(ce.a,{anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},id:v,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:p,onClose:f,children:[localStorage.getItem("user")?Object(a.jsx)(ae.a,{onClick:function(){f(),Q.logout(),t.push("/login")},children:"Logout"}):null,localStorage.getItem("user")?null:Object(a.jsx)(ae.a,{onClick:f,children:"Login"})]}),w="primary-search-account-menu-mobile",y=Object(a.jsx)(ce.a,{anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},id:w,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:O,onClose:m,children:Object(a.jsxs)(ae.a,{onClick:x,children:[Object(a.jsx)(g.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(a.jsx)(je.a,{})}),Object(a.jsx)("p",{children:"User"})]})});return Object(a.jsxs)("div",{className:n.grow,children:[Object(a.jsx)(ee.a,{position:"static",children:Object(a.jsxs)(te.a,{children:[Object(a.jsx)(g.a,{edge:"start",className:n.menuButton,color:"inherit","aria-label":"open drawer",children:Object(a.jsx)(oe.a,{})}),Object(a.jsx)(S.a,{className:n.title,variant:"h6",noWrap:!0,children:"Control Panel"}),Object(a.jsxs)("div",{className:n.search,children:[Object(a.jsx)("div",{className:n.searchIcon,children:Object(a.jsx)(ie.a,{})}),Object(a.jsx)(ne.a,{placeholder:"Search\u2026",classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"}})]}),Object(a.jsx)("div",{className:n.grow}),Object(a.jsx)("div",{className:n.sectionDesktop,children:Object(a.jsx)(g.a,{edge:"end","aria-label":"account of current user","aria-controls":v,"aria-haspopup":"true",onClick:x,color:"inherit",children:Object(a.jsx)(je.a,{})})}),Object(a.jsx)("div",{className:n.sectionMobile,children:Object(a.jsx)(g.a,{"aria-label":"show more","aria-controls":w,"aria-haspopup":"true",onClick:function(e){h(e.currentTarget)},color:"inherit",children:Object(a.jsx)(be.a,{})})})]})}),y,k]})}var pe=function(){return Object(a.jsxs)(i.a,{children:[Object(a.jsx)(he,{}),Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",component:F}),Object(a.jsx)(l.a,{path:"/check",component:J}),Object(a.jsx)(l.a,{path:"/info",component:M}),Object(a.jsx)(l.a,{path:"/login",component:Y})]})]})},Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,172)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(pe,{})}),document.getElementById("root")),Oe()},94:function(e,t,n){},96:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.7d3f9ae7.chunk.js.map